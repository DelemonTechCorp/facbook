<!DOCTYPE html>
<html lang="en">
{% extends "base1.html" %}
{% load static %}
{% block content %}
  <head>
    <script src="https://kit.fontawesome.com/8907ab85d0.js" crossorigin="anonymous"></script>
 </head>
  
  
  
<body>

<div class="container">
    <div class="col-lg-12 col-12">
        <div class="topbar">
            <div class="left-text">
              Agent
            </div>
            <div class="button a">
                <div class="mdi mdi-apple-keyboard-caps"><a style="text-decoration: none; color: white" href="/staffForm"> Add Agent</a></div>
            </div>
            <div class="button mdi mdi-filter" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">Filter</div>
            
            <div class="button dropdown">
              <button class="mdi mdi-menu">Sort by</button>
              <div class="dropdown-content">
                <a href="#">Created Date</a>
                <a href="#">Updated date</a>
                





            </div>
            </div>
            <div class="button dropdown">
              <button class="mdi mdi-menu">Actions</button>
              <div class="dropdown-content">
                  <a href="#">Bulk Update</a>
                  <a href="#">Update status</a>
                  <a href="#">Assign agent </a>
                  <a href="#">Bulk Assign</a>
                  <a href="#">Import contacts</a>
                  <a href="#">Add to campaign</a>
                  <a href="#">Create Call Task</a>
                  <a href="#">Delete</a>





              </div>
          </div>

        </div>
        <div class="collapse mt-3" id="collapseExample">
          <div class="row mb-3">
            <div class="col-md-3">
              <select class="form-select">
                <option selected>Select 1</option>
              </select>
            </div>
            <div class="col-md-3">
              <select class="form-select">
                <option selected>Select 2</option>
              </select>
            </div>
            <div class="col-md-3">
              <select class="form-select">
                <option selected>Select 3</option>
              </select>
            </div>
            <div class="col-md-3">
              <select class="form-select">
                <option selected>Select 4</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3">
              <select class="form-select">
                <option selected>Select 5</option>
              </select>
            </div>
            <div class="col-md-3">
              <select class="form-select">
                <option selected>Select 6</option>
              </select>
            </div>
            <div class="col-md-3">
              <select class="form-select">
                <option selected>Select 7</option>
              </select>
            </div>
            <div class="col-md-3">
              <select class="form-select">
                <option selected>Select 8</option>
              </select>
              <br>
            </div>
            
            <div class="button ">
              <div class="mdi mdi-apple-keyboard-caps"> Deal</div>
          </div>
           <div class="button ">
                <div class="mdi mdi-apple-keyboard-caps"> Deal</div>
            </div>
          </div>
        </div>
        <style>
          .button {
    display: inline-block;
    border: hidden;
    height: 35px;
    color: white;
    text-align: center;
    text-decoration: none;
    font-size: 16px;
    margin: 4px 2px;
    outline: none;
    background: none;
    cursor: pointer;
    border-radius: 4px;
}
.button button{
  background: none;
  border: hidden;
}


.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    left: -50px;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
    z-index: 1;
    border-radius: 4px;
}

.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}

.dropdown-content a:hover {
    background-color: #f1f1f1;
}

.dropdown:hover .dropdown-content {
    display: block;
}
.dropdown-content-btn {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}
.dropdown-btn {
    background-color: transparent;
    border: none;
    cursor: pointer;
}

/* Style the dropdown button on hover */
.dropdown-btn:hover {
    background-color: #f1f1f1;
}

/* Style the dropdown content links */
.dropdown-content-btn p {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}

/* Change color of dropdown links on hover */
.dropdown-content-btn p:hover {
    background-color: #ddd;
}

/* Show the dropdown content when the button is clicked */
.dropdown-btn:focus + .dropdown-content-btn {
    display: flex;
    height:80px;
    flex-direction: column;
    align-items: flex-start;
    width: 80px;
    padding-left: 15px;
}
.dropdown-content-btn a{
    height: 45%;
    width: 100%;
    display:flex;
    align-items: center;
    justify-content: flex-start;
}
.dropdown-content-btn a i{
    margin-right:10px;
    color:red;
}
        </style>
        <style>
         
             
            .dropdown-btn {
       background-color: #f1f1f1;
       color: #333;
       border: none;
       cursor: pointer;
       padding: 5px 10px;
       border-radius: 5px;
   }
   
   /* Style the dropdown button on hover */
   .dropdown-btn:hover {
       background-color: #e0e0e0;
   }
   
   /* CSS for dropdown content */
   .dropdown-content-btn {
       display: none;
       position: absolute;
       background-color: #f9f9f9;
       min-width: 120px;
       box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
       z-index: 1;
   }
   
   /* Style the dropdown content links */
   .dropdown-content-btn a {
       color: #333;
       padding: 10px 15px;
       text-decoration: none;
       display: flex;
       align-items: center;
   }
   
   /* Change color of dropdown links on hover */
   .dropdown-content-btn a:hover {
       background-color: #ddd;
   }
   
   /* Show the dropdown content when the button is hovered */
   .dropdown:hover .dropdown-content-btn {
       display: block;
   }
             </style>
    <div class="textbar">
        <h2>Total Deal Amount:20</h2>
        <h2>Total Deal Amount:30</h2>
    </div>
    <div class="filter">
        
        <select>
            <option value="10">10</option>
            <option value="20">20</option>
            <option value="30">30</option>
            <!-- Add more options as needed -->
        </select>
        
        <!-- Search bar -->
        <input type="text" placeholder="Search...">
    </div>
  <div class="table-container">
    <table id="myTable">
        <thead>
            <tr>
                <th><input type="checkbox" id="selectAllCheckbox"></th> <!-- Checkbox for "Select All" -->
                <th width="30">Edit</th> <!-- New column for edit dropdown -->
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Role</th>
            <th>Is Co Admin</th>
            </tr>
        </thead>
        <tbody id="tableBody">
        {% for staff in staffs %}
        <tr>
            <td><input type="checkbox" class="leadCheckbox"></td>
            <td>
                <div class="dropdown">
                    <button class="dropdown-btn"><i class="fa-solid fa-pen-to-square"></i></button>
                    <div class="dropdown-content-btn">
                        <a href="/editStaffForm/{{ staff.id }}"><i class="fa-solid fa-file-pen"></i>Edit</a>
                        <a href="/deleteStaff/{{ staff.id }}" onclick="return confirm('Are you sure you want to delete this item?');"><i class="fa-solid fa-trash"></i>Delete</a>
                    </div>
                </div>
            </td>
            <td>{{ staff.Name }}</td> 
            <td>{{ staff.EmailId }}</td> 
            <td>{{ staff.PhoneNumber }}</td> 
            <td>{{ staff.Role }}</td> 
            <td>{{ staff.Admin }}</td> 
        </tr>
        {% endfor %}
        </tbody>
    </table>
    <br>
    <div class="pagination">
        <button id="prevPage">Previous Page</button>
        <button id="nextPage">Next Page</button>
    </div>
</div>

<!-- Dropdown menu template -->
<div class="dropdown-menu">
    <a href="#">Edit</a>
    <a href="#">Delete</a>
</div>

<style>
    .dropdown-menu {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        padding: 12px 16px;
        z-index: 1;
    }

    .dropdown-menu a {
        display: block;
        color: black;
        padding: 8px 0;
        text-decoration: none;
    }

    .dropdown-menu a:hover {
        background-color: #f1f1f1;
    }
    .button {
        padding: 10px 20px;
        font-size: 16px;
      }
    
      /* Media query for smaller screens */
      @media screen and (max-width: 768px) {
        .button {
          padding: 4px 12px;
          font-size: 11px;
        }
      }
</style>

<style>
    /* Add this style to remove the border of the edit button */
    .edit-button {
        border: none;
        background: none;
        cursor: pointer;
        outline: none;
    }
</style>

<script>
    // Sample data for demonstration
    {% comment %} const tableData = [
        ["Row 2", "Data", "Goes", "here", "Here", "Here", "Here"],
        ["Row 2", "Data", "Goes", "Here", "Here", "Here", "Here"],
       
    ]; {% endcomment %}

    const tableBody = document.getElementById("tableBody");
    const prevPageBtn = document.getElementById("prevPage");
    const nextPageBtn = document.getElementById("nextPage");
    const selectAllCheckbox = document.getElementById("selectAllCheckbox");

    let currentPage = 1;
    const rowsPerPage = 10; // Change this value as needed
    const totalPages = Math.ceil(tableData.length / rowsPerPage);

    function generateTableRows() {
        tableBody.innerHTML = "";
        const startIndex = (currentPage - 1) * rowsPerPage;
        const endIndex = Math.min(startIndex + rowsPerPage, tableData.length);

        for (let i = startIndex; i < endIndex; i++) {
            const row = document.createElement("tr");

            // Create checkbox cell
            const checkboxCell = document.createElement("td");
            const checkbox = document.createElement("input");
            checkbox.type = "checkbox";
            checkboxCell.appendChild(checkbox);
            row.appendChild(checkboxCell);

            // Create edit cell with dropdown menu
            {% comment %} const editCell = document.createElement("td");
            const editButton = document.createElement("button");
            editButton.textContent = ":";
            editButton.className = "edit-button"; // Add class for styling
            editButton.addEventListener("click", function() {
                const dropdown = row.querySelector(".dropdown-menu");
                toggleDropdown(dropdown);
            });
            editCell.appendChild(editButton);

            const dropdownMenu = document.createElement("div");
            dropdownMenu.className = "dropdown-menu";
            dropdownMenu.innerHTML = `
                <a href="#">Edit</a>
                <a href="#">Delete</a>
            `;
            editCell.appendChild(dropdownMenu);

            row.appendChild(editCell); {% endcomment %}

            // Add data columns
            tableData[i].forEach(cellData => {
                const cell = document.createElement("td");
                cell.textContent = cellData;
                row.appendChild(cell);
            });

            tableBody.appendChild(row);
        }
    }

    function toggleDropdown(dropdown) {
        if (dropdown.style.display === "block") {
            dropdown.style.display = "none";
        } else {
            // Hide all other dropdowns before displaying this one
            const allDropdowns = document.querySelectorAll(".dropdown-menu");
            allDropdowns.forEach(dropdown => {
                dropdown.style.display = "none";
            });
            dropdown.style.display = "block";
        }
    }

    function goToPreviousPage() {
        if (currentPage > 1) {
            currentPage--;
            generateTableRows();
        }
    }

    function goToNextPage() {
        if (currentPage < totalPages) {
            currentPage++;
            generateTableRows();
        }
    }

    // Event listener for "Select All" checkbox
    selectAllCheckbox.addEventListener("change", function() {
        const checkboxes = document.querySelectorAll("#tableBody input[type='checkbox']");
        checkboxes.forEach(checkbox => {
            checkbox.checked = selectAllCheckbox.checked;
        });
    });

    prevPageBtn.addEventListener("click", goToPreviousPage);
    nextPageBtn.addEventListener("click", goToNextPage);

    // Initial table generation
    generateTableRows();
</script>


<style>
    .pagination button {
    padding: 8px 16px;
    background-color: #fc5555;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    margin: 0 5px;
    margin-top:20px;
}

.pagination button:hover {
    background-color: #ff5d5d;
}
.table-container {
    width: 100%;
    overflow-x: auto; /* Enable horizontal scrolling */
}

table {
    width: 100%;
    border-collapse: collapse;
}

table, th, td {
    border: 1px solid #ddd;
}

th, td {
    padding: 8px;
    text-align: left;
}

th {
    background-color: #f2f2f2;
}

/* Media query for mobile view */
@media screen and (max-width: 600px) {
    .table-container {
        overflow-x: scroll; /* Enable scrolling on smaller screens */
    }
}
    .topbar{
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: flex-end; /* This will push the buttons to the right */
        height: 60px;
        background-color: rgba(182, 177, 179, 0.536);
    }
    .button {
        padding: 8px 16px;
        border-color: black;
        background-color: #fff8fc;
        color: rgb(0, 0, 0);
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin-right: 10px; /* Adjust spacing between buttons */
    }
    .a{
        background-color: #ff0000bb;
        color: rgb(255, 255, 255);
    }
    .left-text {
        
        padding-left: 10px;
        color: #333;
        margin-right: auto;
        font-size: 18px; /* Adjust font size */
        font-weight: bold; /* Adjust font weight */
        font-family: Arial, sans-serif; 
    }
    .textbar {
        margin-top: 10px;
        display: flex;
        flex-direction: row;
        width: 100%;
        align-items: center;
        justify-content: flex-end;
        height: 60px;
        background-color: rgba(255, 255, 255, 0.536);
    }
    .textbar h2{
        
        padding-left: 10px;
        color: #124e01;
        font-size: 15px;
        font-weight: bold;
        font-family: Arial, sans-serif;
    }

    .filter {
    display: flex;
    flex-direction: row;
    width: 100%;
    align-items: center;
    justify-content: space-between;
    height: 60px;
    background-color: rgba(255, 255, 255, 0.536);
}

.filter select {
    margin-left: 10px; /* Adjust spacing between the dropdown and search bar */
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.filter input[type="text"] {
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
}
</style>
      
    <!-- End custom js for this page -->

  </body>
  {% endblock %}
</html>